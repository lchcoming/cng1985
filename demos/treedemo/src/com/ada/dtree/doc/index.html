<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>index.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->

  </head>
  
  <body>
  <h1>dtree使用说明</h1>
  <h2>视图配置</h2>&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;<br>引入Dtree标签<br>&lt;%@taglib uri=&quot;http://cng1985.appspot.com/&quot; prefix=&quot;tree&quot;%&gt;<br>&lt;%@taglib uri=&quot;/struts-tags&quot; prefix=&quot;s&quot;%&gt;<br>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;<br>&lt;html&gt;<br>&nbsp;&nbsp;&nbsp; &lt;head&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br><br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;title&gt;My JSP 'dtreejsp.jsp' starting page&lt;/title&gt;<br><br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;tree:TreeScript&gt;&lt;/tree:TreeScript&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;!--<br>&nbsp;&nbsp;&nbsp; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt;<br>&nbsp;&nbsp;&nbsp; --&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br><br>&nbsp;&nbsp;&nbsp; &lt;body&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;tree:DTree&gt;&lt;/tree:DTree&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;br&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/body&gt;<br>&lt;/html&gt;<br><br><br>
   <h2>编写一个实现NodeBuilder的类，注意父子关系</h2><br><br>
   <h2>Action使用说明</h2><ol><li>写一个action类继承com.ada.action.DtreeAction，然后注入一个实现NodeBuilder的类<br></li></ol>public class DemoMakerBuilder implements NodeBuilder{<br>&nbsp;&nbsp;&nbsp; public List&lt;TreeNode&gt; nodes() {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; NavigateDao dao=NavigateDao.getInstanece();<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; List&lt;Navigate&gt; list=&nbsp;&nbsp;&nbsp; dao.listall();<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; List&lt;TreeNode&gt; nodes=new ArrayList&lt;TreeNode&gt;();<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(Navigate item:list){<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; TreeNode&nbsp;&nbsp;&nbsp; node=new TreeNode();<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; node.setId(item.getId());<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; node.setPid(item.getParentId());<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; node.setName(item.getTitle());<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if(null!=item.getUrl()){<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; node.setUrl(item.getUrl());<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else{<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; node.setUrl(&quot;#&quot;);<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; nodes.add(node);<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return nodes;<br>&nbsp;&nbsp;&nbsp; }<br>}<br>
   <h2>spring配置说明</h2>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>&nbsp;&nbsp;&nbsp; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>&nbsp;&nbsp;&nbsp; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &lt;bean id=&quot;DtreeAction&quot; class=&quot;com.ada.action.DtreeAction&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;property name=&quot;builder&quot; ref=&quot;builder&quot;&gt;&lt;/property&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/bean&gt;<br>&nbsp;&nbsp;&nbsp; &lt;bean id=&quot;builder&quot; class=&quot;com.ada.dtree.demo.DemoMakerBuilder&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/bean&gt;<br>&lt;/beans&gt;<br><br>
   <h2>struts配置说明</h2>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;!DOCTYPE struts PUBLIC<br>&nbsp;&nbsp;&nbsp; &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;<br>&nbsp;&nbsp;&nbsp; &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;<br>&lt;struts&gt;<br>&nbsp;&nbsp;&nbsp; &lt;package name=&quot;Dtree&quot; namespace=&quot;/&quot;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; extends=&quot;struts-default&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;action name=&quot;dtreedemo&quot; class=&quot;DtreeAction&quot; method=&quot;work&quot;&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;result name=&quot;success&quot;&gt;/dtree/dtree.jsp&lt;/result&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/action&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/package&gt;<br>&lt;/struts&gt;<br><br>
  </body>
</html>
